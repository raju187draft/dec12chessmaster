{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///home/rajunew/aa/decchessd/lib/chess-engine.ts"],"sourcesContent":["// Chess piece types and board representation\nexport type PieceType = \"p\" | \"n\" | \"b\" | \"r\" | \"q\" | \"k\"\nexport type PieceColor = \"w\" | \"b\"\nexport type Piece = { type: PieceType; color: PieceColor } | null\nexport type Square = string // e.g., 'e4', 'a1'\nexport type Move = {\n  from: Square\n  to: Square\n  piece: PieceType\n  captured?: PieceType\n  promotion?: PieceType\n  castle?: \"k\" | \"q\"\n  enPassant?: boolean\n  check?: boolean\n  checkmate?: boolean\n}\n\nexport type GameState = {\n  board: Piece[][]\n  turn: PieceColor\n  castling: { w: { k: boolean; q: boolean }; b: { k: boolean; q: boolean } }\n  enPassant: Square | null\n  halfMoves: number\n  fullMoves: number\n  history: Move[]\n  isCheck: boolean\n  isCheckmate: boolean\n  isStalemate: boolean\n  isDraw: boolean\n}\n\nconst INITIAL_BOARD: Piece[][] = [\n  [\n    { type: \"r\", color: \"b\" },\n    { type: \"n\", color: \"b\" },\n    { type: \"b\", color: \"b\" },\n    { type: \"q\", color: \"b\" },\n    { type: \"k\", color: \"b\" },\n    { type: \"b\", color: \"b\" },\n    { type: \"n\", color: \"b\" },\n    { type: \"r\", color: \"b\" },\n  ],\n  [\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n    { type: \"p\", color: \"b\" },\n  ],\n  [null, null, null, null, null, null, null, null],\n  [null, null, null, null, null, null, null, null],\n  [null, null, null, null, null, null, null, null],\n  [null, null, null, null, null, null, null, null],\n  [\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n    { type: \"p\", color: \"w\" },\n  ],\n  [\n    { type: \"r\", color: \"w\" },\n    { type: \"n\", color: \"w\" },\n    { type: \"b\", color: \"w\" },\n    { type: \"q\", color: \"w\" },\n    { type: \"k\", color: \"w\" },\n    { type: \"b\", color: \"w\" },\n    { type: \"n\", color: \"w\" },\n    { type: \"r\", color: \"w\" },\n  ],\n]\n\nexport function createInitialState(): GameState {\n  return {\n    board: INITIAL_BOARD.map((row) => row.map((piece) => (piece ? { ...piece } : null))),\n    turn: \"w\",\n    castling: { w: { k: true, q: true }, b: { k: true, q: true } },\n    enPassant: null,\n    halfMoves: 0,\n    fullMoves: 1,\n    history: [],\n    isCheck: false,\n    isCheckmate: false,\n    isStalemate: false,\n    isDraw: false,\n  }\n}\n\nexport function squareToCoords(square: Square): [number, number] {\n  const col = square.charCodeAt(0) - 97\n  const row = 8 - Number.parseInt(square[1])\n  return [row, col]\n}\n\nexport function coordsToSquare(row: number, col: number): Square {\n  return String.fromCharCode(97 + col) + (8 - row)\n}\n\nexport function getPieceAt(state: GameState, square: Square): Piece {\n  const [row, col] = squareToCoords(square)\n  return state.board[row]?.[col] ?? null\n}\n\nfunction setPieceAt(board: Piece[][], square: Square, piece: Piece): void {\n  const [row, col] = squareToCoords(square)\n  board[row][col] = piece\n}\n\nfunction cloneBoard(board: Piece[][]): Piece[][] {\n  return board.map((row) => row.map((piece) => (piece ? { ...piece } : null)))\n}\n\nfunction cloneState(state: GameState): GameState {\n  return {\n    board: cloneBoard(state.board),\n    turn: state.turn,\n    castling: {\n      w: { ...state.castling.w },\n      b: { ...state.castling.b },\n    },\n    enPassant: state.enPassant,\n    halfMoves: state.halfMoves,\n    fullMoves: state.fullMoves,\n    history: [...state.history],\n    isCheck: state.isCheck,\n    isCheckmate: state.isCheckmate,\n    isStalemate: state.isStalemate,\n    isDraw: state.isDraw,\n  }\n}\n\n// Get pseudo-legal moves (doesn't check for leaving king in check)\nfunction getPseudoLegalMoves(state: GameState, square: Square): Square[] {\n  const piece = getPieceAt(state, square)\n  if (!piece) return []\n\n  const [row, col] = squareToCoords(square)\n  const moves: Square[] = []\n\n  switch (piece.type) {\n    case \"p\":\n      moves.push(...getPawnMoves(state, row, col, piece.color))\n      break\n    case \"n\":\n      moves.push(...getKnightMoves(state, row, col, piece.color))\n      break\n    case \"b\":\n      moves.push(...getBishopMoves(state, row, col, piece.color))\n      break\n    case \"r\":\n      moves.push(...getRookMoves(state, row, col, piece.color))\n      break\n    case \"q\":\n      moves.push(...getQueenMoves(state, row, col, piece.color))\n      break\n    case \"k\":\n      moves.push(...getKingMoves(state, row, col, piece.color))\n      break\n  }\n\n  return moves\n}\n\n// Get all valid moves for a piece at a given square\nexport function getValidMoves(state: GameState, square: Square): Square[] {\n  const piece = getPieceAt(state, square)\n  if (!piece || piece.color !== state.turn) return []\n\n  const moves = getPseudoLegalMoves(state, square)\n\n  // Filter out moves that would leave king in check\n  return moves.filter((to) => {\n    const testState = makeQuickMove(state, square, to)\n    return !isKingInCheck(testState, piece.color)\n  })\n}\n\nfunction getPawnMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  const moves: Square[] = []\n  const direction = color === \"w\" ? -1 : 1\n  const startRow = color === \"w\" ? 6 : 1\n\n  // Forward move\n  const newRow = row + direction\n  if (newRow >= 0 && newRow < 8 && !state.board[newRow][col]) {\n    moves.push(coordsToSquare(newRow, col))\n\n    // Double move from start\n    if (row === startRow && !state.board[row + 2 * direction][col]) {\n      moves.push(coordsToSquare(row + 2 * direction, col))\n    }\n  }\n\n  // Captures\n  for (const dc of [-1, 1]) {\n    const newCol = col + dc\n    if (newCol >= 0 && newCol < 8 && newRow >= 0 && newRow < 8) {\n      const target = state.board[newRow]?.[newCol]\n      if (target && target.color !== color) {\n        moves.push(coordsToSquare(newRow, newCol))\n      }\n\n      // En passant\n      if (state.enPassant === coordsToSquare(newRow, newCol)) {\n        moves.push(coordsToSquare(newRow, newCol))\n      }\n    }\n  }\n\n  return moves\n}\n\nfunction getKnightMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  const moves: Square[] = []\n  const offsets = [\n    [-2, -1],\n    [-2, 1],\n    [-1, -2],\n    [-1, 2],\n    [1, -2],\n    [1, 2],\n    [2, -1],\n    [2, 1],\n  ]\n\n  for (const [dr, dc] of offsets) {\n    const newRow = row + dr\n    const newCol = col + dc\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      const target = state.board[newRow][newCol]\n      if (!target || target.color !== color) {\n        moves.push(coordsToSquare(newRow, newCol))\n      }\n    }\n  }\n\n  return moves\n}\n\nfunction getSlidingMoves(\n  state: GameState,\n  row: number,\n  col: number,\n  color: PieceColor,\n  directions: number[][],\n): Square[] {\n  const moves: Square[] = []\n\n  for (const [dr, dc] of directions) {\n    let newRow = row + dr\n    let newCol = col + dc\n\n    while (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      const target = state.board[newRow][newCol]\n      if (!target) {\n        moves.push(coordsToSquare(newRow, newCol))\n      } else {\n        if (target.color !== color) {\n          moves.push(coordsToSquare(newRow, newCol))\n        }\n        break\n      }\n      newRow += dr\n      newCol += dc\n    }\n  }\n\n  return moves\n}\n\nfunction getBishopMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  return getSlidingMoves(state, row, col, color, [\n    [-1, -1],\n    [-1, 1],\n    [1, -1],\n    [1, 1],\n  ])\n}\n\nfunction getRookMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  return getSlidingMoves(state, row, col, color, [\n    [-1, 0],\n    [1, 0],\n    [0, -1],\n    [0, 1],\n  ])\n}\n\nfunction getQueenMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  return [...getBishopMoves(state, row, col, color), ...getRookMoves(state, row, col, color)]\n}\n\nfunction getKingMoves(state: GameState, row: number, col: number, color: PieceColor): Square[] {\n  const moves: Square[] = []\n  const offsets = [\n    [-1, -1],\n    [-1, 0],\n    [-1, 1],\n    [0, -1],\n    [0, 1],\n    [1, -1],\n    [1, 0],\n    [1, 1],\n  ]\n\n  for (const [dr, dc] of offsets) {\n    const newRow = row + dr\n    const newCol = col + dc\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      const target = state.board[newRow][newCol]\n      if (!target || target.color !== color) {\n        moves.push(coordsToSquare(newRow, newCol))\n      }\n    }\n  }\n\n  // Castling\n  const castleRow = color === \"w\" ? 7 : 0\n  if (row === castleRow && col === 4 && !isKingInCheck(state, color)) {\n    // Kingside\n    if (\n      state.castling[color].k &&\n      !state.board[castleRow][5] &&\n      !state.board[castleRow][6] &&\n      state.board[castleRow][7]?.type === \"r\"\n    ) {\n      const test1 = makeQuickMove(state, coordsToSquare(row, col), coordsToSquare(row, 5))\n      const test2 = makeQuickMove(state, coordsToSquare(row, col), coordsToSquare(row, 6))\n      if (!isKingInCheck(test1, color) && !isKingInCheck(test2, color)) {\n        moves.push(coordsToSquare(castleRow, 6))\n      }\n    }\n    // Queenside\n    if (\n      state.castling[color].q &&\n      !state.board[castleRow][3] &&\n      !state.board[castleRow][2] &&\n      !state.board[castleRow][1] &&\n      state.board[castleRow][0]?.type === \"r\"\n    ) {\n      const test1 = makeQuickMove(state, coordsToSquare(row, col), coordsToSquare(row, 3))\n      const test2 = makeQuickMove(state, coordsToSquare(row, col), coordsToSquare(row, 2))\n      if (!isKingInCheck(test1, color) && !isKingInCheck(test2, color)) {\n        moves.push(coordsToSquare(castleRow, 2))\n      }\n    }\n  }\n\n  return moves\n}\n\nfunction findKing(state: GameState, color: PieceColor): Square | null {\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      const piece = state.board[row][col]\n      if (piece?.type === \"k\" && piece.color === color) {\n        return coordsToSquare(row, col)\n      }\n    }\n  }\n  return null\n}\n\nexport function isKingInCheck(state: GameState, color: PieceColor): boolean {\n  const kingSquare = findKing(state, color)\n  if (!kingSquare) return false\n\n  const [kingRow, kingCol] = squareToCoords(kingSquare)\n  const enemyColor = color === \"w\" ? \"b\" : \"w\"\n\n  // Check for attacks from each piece type\n  // Knights\n  const knightOffsets = [\n    [-2, -1],\n    [-2, 1],\n    [-1, -2],\n    [-1, 2],\n    [1, -2],\n    [1, 2],\n    [2, -1],\n    [2, 1],\n  ]\n  for (const [dr, dc] of knightOffsets) {\n    const r = kingRow + dr\n    const c = kingCol + dc\n    if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      const piece = state.board[r][c]\n      if (piece?.type === \"n\" && piece.color === enemyColor) return true\n    }\n  }\n\n  // Pawns\n  const pawnDir = color === \"w\" ? -1 : 1\n  for (const dc of [-1, 1]) {\n    const r = kingRow + pawnDir\n    const c = kingCol + dc\n    if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      const piece = state.board[r][c]\n      if (piece?.type === \"p\" && piece.color === enemyColor) return true\n    }\n  }\n\n  // King (for proximity checks)\n  const kingOffsets = [\n    [-1, -1],\n    [-1, 0],\n    [-1, 1],\n    [0, -1],\n    [0, 1],\n    [1, -1],\n    [1, 0],\n    [1, 1],\n  ]\n  for (const [dr, dc] of kingOffsets) {\n    const r = kingRow + dr\n    const c = kingCol + dc\n    if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      const piece = state.board[r][c]\n      if (piece?.type === \"k\" && piece.color === enemyColor) return true\n    }\n  }\n\n  // Sliding pieces (bishop, rook, queen)\n  const diagonals = [\n    [-1, -1],\n    [-1, 1],\n    [1, -1],\n    [1, 1],\n  ]\n  const straights = [\n    [-1, 0],\n    [1, 0],\n    [0, -1],\n    [0, 1],\n  ]\n\n  for (const [dr, dc] of diagonals) {\n    let r = kingRow + dr\n    let c = kingCol + dc\n    while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      const piece = state.board[r][c]\n      if (piece) {\n        if (piece.color === enemyColor && (piece.type === \"b\" || piece.type === \"q\")) {\n          return true\n        }\n        break\n      }\n      r += dr\n      c += dc\n    }\n  }\n\n  for (const [dr, dc] of straights) {\n    let r = kingRow + dr\n    let c = kingCol + dc\n    while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      const piece = state.board[r][c]\n      if (piece) {\n        if (piece.color === enemyColor && (piece.type === \"r\" || piece.type === \"q\")) {\n          return true\n        }\n        break\n      }\n      r += dr\n      c += dc\n    }\n  }\n\n  return false\n}\n\nfunction makeQuickMove(state: GameState, from: Square, to: Square): GameState {\n  const newBoard = cloneBoard(state.board)\n  const [fromRow, fromCol] = squareToCoords(from)\n  const [toRow, toCol] = squareToCoords(to)\n\n  const piece = state.board[fromRow][fromCol]\n  if (!piece) return state\n\n  newBoard[toRow][toCol] = { ...piece }\n  newBoard[fromRow][fromCol] = null\n\n  // Handle en passant capture\n  if (piece.type === \"p\" && to === state.enPassant) {\n    const captureRow = piece.color === \"w\" ? toRow + 1 : toRow - 1\n    newBoard[captureRow][toCol] = null\n  }\n\n  // Handle castling rook movement\n  if (piece.type === \"k\" && Math.abs(toCol - fromCol) === 2) {\n    if (toCol === 6) {\n      newBoard[fromRow][5] = newBoard[fromRow][7]\n      newBoard[fromRow][7] = null\n    } else if (toCol === 2) {\n      newBoard[fromRow][3] = newBoard[fromRow][0]\n      newBoard[fromRow][0] = null\n    }\n  }\n\n  return {\n    ...state,\n    board: newBoard,\n    turn: state.turn === \"w\" ? \"b\" : \"w\",\n  }\n}\n\nexport function makeMove(state: GameState, from: Square, to: Square, promotion?: PieceType): GameState | null {\n  const validMoves = getValidMoves(state, from)\n  if (!validMoves.includes(to)) return null\n\n  const newState = cloneState(state)\n  const [fromRow, fromCol] = squareToCoords(from)\n  const piece = newState.board[fromRow][fromCol]\n  if (!piece) return null\n\n  const [toRow, toCol] = squareToCoords(to)\n  const captured = newState.board[toRow][toCol]\n\n  // Create move record\n  const move: Move = {\n    from,\n    to,\n    piece: piece.type,\n    captured: captured?.type,\n  }\n\n  // Handle special moves\n  // En passant capture\n  if (piece.type === \"p\" && to === state.enPassant) {\n    const captureRow = piece.color === \"w\" ? toRow + 1 : toRow - 1\n    newState.board[captureRow][toCol] = null\n    move.enPassant = true\n    move.captured = \"p\"\n  }\n\n  // Castling\n  if (piece.type === \"k\" && Math.abs(toCol - fromCol) === 2) {\n    if (toCol === 6) {\n      // Kingside\n      newState.board[fromRow][5] = newState.board[fromRow][7]\n      newState.board[fromRow][7] = null\n      move.castle = \"k\"\n    } else if (toCol === 2) {\n      // Queenside\n      newState.board[fromRow][3] = newState.board[fromRow][0]\n      newState.board[fromRow][0] = null\n      move.castle = \"q\"\n    }\n  }\n\n  // Pawn promotion\n  if (piece.type === \"p\" && (toRow === 0 || toRow === 7)) {\n    piece.type = promotion || \"q\"\n    move.promotion = piece.type\n  }\n\n  // Move the piece\n  newState.board[toRow][toCol] = piece\n  newState.board[fromRow][fromCol] = null\n\n  // Update castling rights\n  if (piece.type === \"k\") {\n    newState.castling[piece.color].k = false\n    newState.castling[piece.color].q = false\n  }\n  if (piece.type === \"r\") {\n    if (fromCol === 0) newState.castling[piece.color].q = false\n    if (fromCol === 7) newState.castling[piece.color].k = false\n  }\n\n  // Set en passant square\n  if (piece.type === \"p\" && Math.abs(toRow - fromRow) === 2) {\n    newState.enPassant = coordsToSquare((fromRow + toRow) / 2, fromCol)\n  } else {\n    newState.enPassant = null\n  }\n\n  // Update move counters\n  if (piece.type === \"p\" || captured) {\n    newState.halfMoves = 0\n  } else {\n    newState.halfMoves++\n  }\n  if (piece.color === \"b\") {\n    newState.fullMoves++\n  }\n\n  // Switch turn\n  newState.turn = piece.color === \"w\" ? \"b\" : \"w\"\n\n  // Check for check/checkmate/stalemate\n  newState.isCheck = isKingInCheck(newState, newState.turn)\n  move.check = newState.isCheck\n\n  const hasLegalMoves = hasAnyLegalMove(newState)\n  if (!hasLegalMoves) {\n    if (newState.isCheck) {\n      newState.isCheckmate = true\n      move.checkmate = true\n    } else {\n      newState.isStalemate = true\n    }\n  }\n\n  // Check for draw by 50-move rule\n  if (newState.halfMoves >= 100) {\n    newState.isDraw = true\n  }\n\n  newState.history = [...state.history, move]\n\n  return newState\n}\n\nfunction hasAnyLegalMove(state: GameState): boolean {\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      const piece = state.board[row][col]\n      if (piece && piece.color === state.turn) {\n        const square = coordsToSquare(row, col)\n        const moves = getPseudoLegalMoves(state, square)\n        for (const to of moves) {\n          const testState = makeQuickMove(state, square, to)\n          if (!isKingInCheck(testState, piece.color)) {\n            return true // Found at least one legal move\n          }\n        }\n      }\n    }\n  }\n  return false\n}\n\nexport function getAllLegalMoves(state: GameState): { from: Square; to: Square }[] {\n  const moves: { from: Square; to: Square }[] = []\n\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      const piece = state.board[row][col]\n      if (piece && piece.color === state.turn) {\n        const square = coordsToSquare(row, col)\n        const validMoves = getValidMoves(state, square)\n        for (const to of validMoves) {\n          moves.push({ from: square, to })\n        }\n      }\n    }\n  }\n\n  return moves\n}\n\nexport function moveToAlgebraic(state: GameState, move: Move): string {\n  const pieceSymbols: Record<PieceType, string> = {\n    p: \"\",\n    n: \"N\",\n    b: \"B\",\n    r: \"R\",\n    q: \"Q\",\n    k: \"K\",\n  }\n\n  if (move.castle === \"k\") return \"O-O\"\n  if (move.castle === \"q\") return \"O-O-O\"\n\n  let notation = pieceSymbols[move.piece]\n\n  if (move.captured) {\n    if (move.piece === \"p\") {\n      notation += move.from[0]\n    }\n    notation += \"x\"\n  }\n\n  notation += move.to\n\n  if (move.promotion) {\n    notation += \"=\" + pieceSymbols[move.promotion]\n  }\n\n  if (move.checkmate) {\n    notation += \"#\"\n  } else if (move.check) {\n    notation += \"+\"\n  }\n\n  return notation\n}\n\n// Convert game state to FEN for AI analysis\nexport function gameStateToFEN(state: GameState): string {\n  const pieceToFEN: Record<string, string> = {\n    wp: \"P\",\n    wn: \"N\",\n    wb: \"B\",\n    wr: \"R\",\n    wq: \"Q\",\n    wk: \"K\",\n    bp: \"p\",\n    bn: \"n\",\n    bb: \"b\",\n    br: \"r\",\n    bq: \"q\",\n    bk: \"k\",\n  }\n\n  let fen = \"\"\n\n  // Board position\n  for (let row = 0; row < 8; row++) {\n    let empty = 0\n    for (let col = 0; col < 8; col++) {\n      const piece = state.board[row][col]\n      if (piece) {\n        if (empty > 0) {\n          fen += empty\n          empty = 0\n        }\n        fen += pieceToFEN[piece.color + piece.type]\n      } else {\n        empty++\n      }\n    }\n    if (empty > 0) fen += empty\n    if (row < 7) fen += \"/\"\n  }\n\n  fen += \" \" + state.turn\n\n  let castling = \"\"\n  if (state.castling.w.k) castling += \"K\"\n  if (state.castling.w.q) castling += \"Q\"\n  if (state.castling.b.k) castling += \"k\"\n  if (state.castling.b.q) castling += \"q\"\n  fen += \" \" + (castling || \"-\")\n\n  fen += \" \" + (state.enPassant || \"-\")\n  fen += \" \" + state.halfMoves\n  fen += \" \" + state.fullMoves\n\n  return fen\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file:///home/rajunew/aa/decchessd/app/api/analyze-move/route.ts"],"sourcesContent":["import { GoogleGenAI } from \"@google/genai\";\nimport { gameStateToFEN, type GameState } from \"@/lib/chess-engine\";\nimport type { MoveEvaluation } from \"@/lib/adaptive-ai\";\n\nexport const maxDuration = 30;\n\nfunction getMoveScore(type: MoveEvaluation[\"type\"]): number {\n  switch (type) {\n    case \"brilliant\":\n      return 1.0;\n    case \"excellent\":\n      return 1.0;\n    case \"good\":\n      return 0.9;\n    case \"inaccuracy\":\n      return 0.5;\n    case \"mistake\":\n      return 0.25;\n    case \"blunder\":\n      return 0.0;\n    default:\n      return 0.75;\n  }\n}\n\nfunction getALMLScore(centipawnLoss: number): number {\n  // 0 cp loss = 100, 300+ cp loss = 0\n  const score = Math.max(0, Math.min(100, 100 - centipawnLoss / 3));\n  return Math.round(score);\n}\n\nexport async function POST(req: Request) {\n  const {\n    gameState,\n    evaluation,\n    moveHistory,\n    playerStats,\n    allEvaluations, // Added for calculating AMS and STD\n    moveTimes, // Added for time tracking\n  }: {\n    gameState: GameState;\n    evaluation: MoveEvaluation;\n    moveHistory: string[];\n    playerStats: { skillRating: number; averageAccuracy: number } | null;\n    allEvaluations?: MoveEvaluation[];\n    moveTimes?: number[];\n  } = await req.json();\n\n  const fen = gameStateToFEN(gameState);\n\n  const evaluations = allEvaluations || [evaluation];\n  const scores = evaluations.map((e) => getMoveScore(e.type));\n  const ams =\n    scores.length > 0\n      ? scores.reduce((a, b) => a + b, 0) / scores.length\n      : 0.75;\n  const mean = ams;\n  const variance =\n    scores.length > 1\n      ? scores.reduce((sum, s) => sum + Math.pow(s - mean, 2), 0) /\n        scores.length\n      : 0;\n  const stdDeviation = Math.sqrt(variance);\n\n  // Count move types\n  const blunders = evaluations.filter((e) => e.type === \"blunder\").length;\n  const mistakes = evaluations.filter((e) => e.type === \"mistake\").length;\n  const inaccuracies = evaluations.filter(\n    (e) => e.type === \"inaccuracy\"\n  ).length;\n  const excellentMoves = evaluations.filter(\n    (e) => e.type === \"excellent\" || e.type === \"brilliant\"\n  ).length;\n\n  // Average time per move\n  const avgTimePerMove =\n    moveTimes && moveTimes.length > 0\n      ? moveTimes.reduce((a, b) => a + b, 0) / moveTimes.length\n      : 0;\n\n  // ALML score for current move\n  const almlScore = getALMLScore(evaluation.centipawnLoss || 0);\n\n  const prompt = `You are a chess coach analyzing a player's move. Be encouraging but honest.\n\nCurrent position (FEN): ${fen}\nMove played: ${evaluation.from} to ${evaluation.to}\nMove evaluation: ${evaluation.type}\nCentipawn loss: ${evaluation.centipawnLoss || 0} cp\nALML Score: ${almlScore}/100\n${\n  evaluation.bestMove\n    ? `Better move was: ${evaluation.bestMove.from} to ${evaluation.bestMove.to}`\n    : \"\"\n}\nRecent moves: ${moveHistory.slice(-10).join(\", \") || \"Game just started\"}\nPlayer ELO rating: ~${playerStats?.skillRating || 1000}\nPlayer accuracy this game: ${playerStats?.averageAccuracy || 70}%\n\nGame Statistics:\n- Average Move Score (AMS): ${ams.toFixed(3)} (${\n    ams >= 0.9\n      ? \"Excellent\"\n      : ams >= 0.75\n      ? \"Great\"\n      : ams >= 0.5\n      ? \"Good\"\n      : \"Needs Improvement\"\n  })\n- Standard Deviation: ${stdDeviation.toFixed(3)}\n- Blunders: ${blunders}, Mistakes: ${mistakes}, Inaccuracies: ${inaccuracies}\n- Excellent Moves: ${excellentMoves}\n\nProvide a brief, helpful comment (2-3 sentences max) about this move:\n- If it's a blunder/mistake: Explain WHY it's bad and what tactical/strategic element they missed\n- If it's an inaccuracy: Gently point out the better continuation\n- If it's good/excellent/brilliant: Encourage them and explain what made it strong\n- If there's a tactical theme (fork, pin, skewer, discovered attack, etc.), mention it\n- Tailor your language to their skill level (simpler for lower ELO, more technical for higher)\n- Be conversational and supportive, like a friendly coach\n\nResponse (keep it short and helpful):`;\n\n  const GEMINI_API_KEY = process.env.GEMINI_API_KEY;\n  const ai = new GoogleGenAI({ apiKey: GEMINI_API_KEY });\n\n  try {\n    const { text } = await ai.models.generateContent({\n      model: \"gemini-2.5-flash\",\n      contents: prompt,\n    });\n\n    return Response.json({\n      analysis: text,\n      stats: {\n        ams,\n        amsLabel:\n          ams >= 0.9\n            ? \"Excellent\"\n            : ams >= 0.75\n            ? \"Great\"\n            : ams >= 0.5\n            ? \"Good\"\n            : \"Needs Improvement\",\n        stdDeviation,\n        avgTimePerMove,\n        blunders,\n        mistakes,\n        inaccuracies,\n        excellentMoves,\n        almlScore,\n      },\n    });\n  } catch (error) {\n    console.error(\"AI analysis error:\", error);\n    const fallback = getFallbackAnalysis(evaluation);\n    return Response.json({\n      analysis: fallback,\n      stats: {\n        ams,\n        amsLabel:\n          ams >= 0.9\n            ? \"Excellent\"\n            : ams >= 0.75\n            ? \"Great\"\n            : ams >= 0.5\n            ? \"Good\"\n            : \"Needs Improvement\",\n        stdDeviation,\n        avgTimePerMove,\n        blunders,\n        mistakes,\n        inaccuracies,\n        excellentMoves,\n        almlScore,\n      },\n    });\n  }\n}\n\nfunction getFallbackAnalysis(evaluation: MoveEvaluation): string {\n  const cpLoss = evaluation.centipawnLoss || 0;\n\n  switch (evaluation.type) {\n    case \"brilliant\":\n      return \"Brilliant! You found an exceptional move that significantly improves your position.\";\n    case \"excellent\":\n      return \"Excellent move! You're playing with great precision and understanding.\";\n    case \"good\":\n      return \"Solid move. Keep up the good play!\";\n    case \"inaccuracy\":\n      return `Small inaccuracy (${cpLoss}cp loss). ${\n        evaluation.bestMove\n          ? `${evaluation.bestMove.from}-${evaluation.bestMove.to} would give you a slightly better position.`\n          : \"Look for more active moves.\"\n      }`;\n    case \"mistake\":\n      return `That's a mistake (${cpLoss}cp loss). ${\n        evaluation.bestMove\n          ? `${evaluation.bestMove.from}-${evaluation.bestMove.to} was stronger.`\n          : \"\"\n      } Think about piece activity and king safety!`;\n    case \"blunder\":\n      return `Significant error (${cpLoss}cp loss)! ${\n        evaluation.bestMove\n          ? `${evaluation.bestMove.from}-${evaluation.bestMove.to} was much better.`\n          : \"\"\n      } Take your time and check for tactics before moving.`;\n    default:\n      return \"Interesting move. Let's see how the game develops.\";\n  }\n}\n"],"names":[],"mappings":"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"}}]
}